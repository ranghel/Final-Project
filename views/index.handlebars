<!DOCTYPE html>
<html>
<head>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="apple-mobile-web-app-title" content="Helping Hands">
    <meta name="application-name" content="Helping Hands">
    <meta name="theme-color" content="#ffffff">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--CSS-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

    <link href='https://fonts.googleapis.com/css?family=Raleway:400,700,600' rel='stylesheet' type='text/css'>

    <link href='https://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>

    <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>

    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>

<body>

<nav>
    <div class="nav-wrapper pink-bg">
        <a class="brand-logo"><img id="logoClick" src="css/imgs/logo.png" width="200"></a>
        <ul id="nav-mobile" class="right">
            <li><a class="learnMore right">Learn More</a></li>
            <li><a class="modal-trigger right" href="#modal1">Sign Up</a></li>
            <li><a class="modal-trigger right" href="#modal2">Login</a></li>
        </ul>
    </div>
</nav>


<div id="index-banner" class="parallax-container top-image">
    <div class="container top-text">
        <h1 class="header white-text swapTitle center">Helping One Another</h1>
        <div class="row center">
            <h4 class="header white-text col s12 light">The Perfect Place for donating your unused IVF medication</h4>
        </div>
        <div class="row center">
            <a href="#modal1" id="download-button" class="btn-large waves-effect waves-light lighten-1 modal-trigger">Get Started</a>
        </div>
    </div>
    <div class="parallax"><img src="css/imgs/bg.jpg">
    </div>
</div>

<div class="section bluebg" id="aboutHelpingHands">
    <div class="row container">
        <h1 class="center white-text">Find Your Much Needed IVF Medication</h1>
        <div class="col s12 m4">
            <div class="icon-block">
                <h2 class="center"><i class="material-icons medium pink-text">loyalty</i></h2>
                <h5 class="center white-text">Post Donation</h5>
                <p class="center white-text">Post your unused IVF medication in the Helping Hands store.</p>
            </div>
        </div>

        <div class="col s12 m4">
            <div class="icon-block">
                <h2 class="center"><i class="material-icons medium pink-text">visibility</i></h2>
                <h5 class="center white-text">Browse Around</h5>

                <p class="center white-text">Check out other memebers Helping Hands store<br>to find medication that you need.</p>
            </div>
        </div>

        <div class="col s12 m4">
            <div class="icon-block">
                <h2 class="center"><i class="material-icons medium pink-text">redeem</i></h2>
                <h5 class="center white-text">Request Donation</h5>

                <p class="center white-text">Request donations from other members.</p>
            </div>
        </div>
    </div>
</div>

<div class="parallax-container">
    <div class="parallax"><img src="css/imgs/loveBaby.jpg"></div>
</div>

<!-- Sign Up Modal Structure -->
<div id="modal1" class="modal">
    <div class="modal-content">
        <button id="clearSignUp" class="modal-close btn-flat" style="position:absolute;top:0;right:0;">X</button>
        <h4>Create your account</h4>
        <p>Help someone in need in minutes!</p>
        <form>
            <div class="row">
                <div class="input-field col s6">
                    <input id="first_name" type="text" class="validate">
                    <label for="first_name">First Name</label>
                </div>
                <div class="input-field col s6">
                    <input id="last_name" type="text" class="validate">
                    <label for="last_name">Last Name</label>
                </div>
                <div class="input-field col s12">
                    <input id="emailSignUp" type="email" class="validate">
                    <label for="emailSignUp">E-mail</label>
                </div>
                <div class="input-field col s12">
                    <input id="passwordSignUp" type="password" class="validate">
                    <label for="passwordSignUp">Password</label>
                </div>
                <div class="input-field col s12">
                    <input id="confirmPassword" type="password" class="validate">
                    <label for="confirmPassword">Confirm Password</label>
                </div>
                <div class="input-field col s12">
                    <input id="userImage" type="url" class="validate">
                    <label for="userImage">Image URL</label>
                </div>
            </div>

        </form>


        <div class="modal-footer">
            <button class="btn waves-effect waves-light left" type="submit" name="action" id="signUp">Sign Up
            </button>
        </div>
    </div>
</div>

<!-- Login Modal Structure -->
<div id="modal2" class="modal">
    <div class="modal-content">
        <button id="clearLogin" class="modal-close btn-flat" style="position:absolute;top:0;right:0;">X</button>
        <h4>Login to your account</h4>
        <p>Help someone in need in minutes!</p>
        <form>
            <div class="row">
                <div class="input-field col s12">
                    <input id="emailLogin" type="email" name="email-for-login" class="validate">
                    <label for="emailLogin">E-mail</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="passwordLogin" type="password" class="validate">
                    <label for="passwordLogin">Password</label>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <button class="btn waves-effect waves-light left" type="submit" name="action" id="logIn">Login
            </button>
        </div>
    </div>
</div>

<footer class="page-footer blue" id="page-footer">
    <div class="container">
        <div class="row">
            <div class="col l2 s12">
                <img class="responsive-img" src="css/imgs/logo.png">
            </div>
            <div class="col l10 s12 right">
                <br>
                <h4 class="white-text">About Helping Hands</h4>
                <h5 class="grey-text text-lighten-4">Helping Hands is a Fertility Medication Donation Program designed to help those who have to pay out of pocket for Infertility treatments and medication. It connects those of you who have left overs (unopened and unused meds to donate), with those in need of medication. Every little bit counts, and every donation is greatly appreciated!</h5>
            </div>
        </div>
    </div>
    <div class="footer-copyright pinkT">
        <div class="container">
        </div>
    </div>
</footer>

<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="js/materialize.js"></script>
<script src="js/app.js"></script>
<script type="text/javascript">


    $('#clearSignUp').on("click", function() {
        $('#first_name').val('');
        $('#last_name').val('');
        $('#emailSignUp').val('');
        $('#passwordSignUp').val('');
        $('#confirmPassword').val('');
        $('#userImage').val('');
    });


    $('#signUp').on("click", function() {
        var userInput = {
            firstName: $('#first_name').val().trim(),
            lastName: $('#last_name').val().trim(),
            email: $('#emailSignUp').val().trim(),
            password: $('#passwordSignUp').val().trim(),
            userImage: $('#userImage').val().trim()
        };

        var currentURL = window.location.origin;

        $.post(currentURL + '/api/newuser', userInput, function(data) {

            $('#modal1').closeModal();

            window.location.replace("/users/" + data.id);

        });

        return false;
    });


    $('#logIn').on("click", function() {
        var userInput = {
            email: $('#emailLogin').val().trim(),
            password: $('#passwordLogin').val().trim()
        };

        var currentURL = window.location.origin;

        $.post(currentURL + '/login', userInput, function(data) {

            if(data.url){

                window.location = data.url;
            } else if(data.errorMessage){

                alert(data.errorMessage);
            } else {
                alert("We're sorry. The website has encountered a server failure.")
            }

        });

        return false;
    });

</script>
</body>
</html>